{% extends "base.html" %}

{% block title %}Available Cats{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">Available Cats</h1>

<div class="flex gap-8">
    <!-- SIDEBAR FILTERS -->
    <aside class="w-64 bg-white shadow p-4 rounded h-fit sticky top-4">
        <form method="get" class="space-y-6">
            <!-- BOOLEAN FILTERS -->
            <div>
                <label class="font-semibold block mb-2">Health</label>

                <label class="flex items-center gap-2">
                    <input type="checkbox" name="vaccinated" value="1" {% if request.GET.vaccinated %}checked{% endif %}>
                    Vaccinated
                </label>

                <label class="flex items-center gap-2">
                    <input type="checkbox" name="microchipped" value="1" {% if request.GET.microchipped %}checked{% endif %}>
                    Microchipped
                </label>

                <label class="flex items-center gap-2">
                    <input type="checkbox" name="sterilised" value="1" {% if request.GET.sterilised %}checked{% endif %}>
                    Sterilised
                </label>

                <label class="flex items-center gap-2">
                    <input type="checkbox" name="fiv_positive" value="1" {% if request.GET.fiv_positive %}checked{% endif %}>
                    FIV Positive
                </label>
            </div>

            <!-- COMPATIBILITY -->
            <div>
                <label class="font-semibold block mb-2">Compatibility</label>

                <label class="flex items-center gap-2">
                    <input type="checkbox" name="good_with_kids" value="1" {% if request.GET.good_with_kids %}checked{% endif %}>
                    Good with kids
                </label>

                <label class="flex items-center gap-2">
                    <input type="checkbox" name="good_with_dogs" value="1" {% if request.GET.good_with_dogs %}checked{% endif %}>
                    Good with dogs
                </label>

                <label class="flex items-center gap-2">
                    <input type="checkbox" name="good_with_cats" value="1" {% if request.GET.good_with_cats %}checked{% endif %}>
                    Good with cats
                </label>
            </div>

            <!-- BUTTONS -->
            <div class="flex flex-col gap-2">
                <button class="px-4 py-2 bg-blue-600 text-white rounded">Apply Filters</button>

                <a href="{% url 'cat_list' %}" class="px-4 py-2 bg-gray-300 text-gray-800 rounded text-center">
                    Reset Filters
                </a>
                {% if user.is_authenticated %}
                <a href="{% url 'cat_add' %}"
                    class="inline-block px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
                    + Add New Cat
                </a>

                {% endif %}
            </div>

        </form>
    </aside>

    {% if cats %}
{% for cat in cats %}
    <div class="flex">
        <h3 class="">{{ cat.name }}</h3>

    </div>
{% endfor %}
<!-- 
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
        <!-- Repeat this block for each cat
        {% for cat in cats %}
            <a href="{% url 'cat_detail' cat.pk %}" class="bg-white rounded-lg shadow-md overflow-hidden">
                <img src="{{ cat.primary_image.image.url }}" alt="{{ cat.name }}" class="w-full h-48 object-cover">
                <div class="p-4 space-y-2">
                    <h3 class="text-xl font-bold text-gray-900">{{ cat.name }}</h3>
                    <div class="text-sm text-gray-600 italic">{{ cat.tagline }}</div>
                    <div class="flex flex-col gap-2 text-sm text-gray-700 mt-2">
                        <div class="flex items-center gap-1">
                            <i class="fa-solid fa-venus-mars text-blue-500"></i> {{ cat.get_sex_display }}
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fa-solid fa-cat text-purple-500"></i> {{ cat.breed }}
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fa-solid fa-brush"></i> {{ cat.colour }}
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fa-solid fa-cake-candles text-pink-500"></i> {{ cat.age|default:"Unknown" }}
                        </div>
                        <div class="flex items-center gap-1">
                            {% if cat.is_vaccinated %}<i class="fa-solid fa-syringe"></i>{{ cat.vaccinated_notes }}{% endif %}
                        </div>
                        <div class="flex items-center gap-1">
                            {% if cat.is_microchipped %}<i class="fa-solid fa-microchip"></i>{% endif %}
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fa-solid fa-location-dot"></i> {{ cat.fostered_in }}
                        </div>
                    </div>
                </div>
            </a>
        {% endfor %}
    </div>
-->


    <!-- CAT GRID -->
    <!-- <div class="flex-1">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for cat in cats %}
            <div class="bg-white shadow rounded-lg overflow-hidden">
                {% if cat.primary_image %}
                <img src="{{ cat.primary_image.image.url }}" alt="{{ cat.name }}" class="w-full h-48 object-cover">
                {% else %}
                <div class="w-full h-48 bg-gray-200 flex items-center justify-center text-gray-500">
                    No Photo
                </div>
                {% endif %}

                <div class="p-4">
                    <h2 class="text-xl font-semibold">{{ cat.name }}</h2>

                    {% if cat.breed %}
                    <p class="text-gray-600">{{ cat.breed.name }}</p>
                    {% endif %}

                    <p class="mt-2 text-sm text-gray-500">
                        Age: {{ cat.age|default:"Unknown" }}
                    </p>

                    <a href="{% url 'cat_detail' cat.pk %}"
                        class="inline-block mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                        View Details
                    </a>

                    {% if user.is_authenticated %}
                    <a href="{% url 'cat_edit' cat.pk %}"
                        class="inline-block mt-4 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700">
                        Edit
                    </a>
                    {% endif %}

                </div>
            </div>
            {% endfor %}
        </div>
    </div> -->
    {% else %}
    <p class="text-gray-600">No cats match the current filters.</p>
    {% endif %}

</div>

{% endblock %}