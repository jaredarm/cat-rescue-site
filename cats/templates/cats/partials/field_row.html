<!-- Detect checkboxes and style them differently  -->
{% if field.field.widget.input_type == "checkbox" %}

<div class="grid grid-cols-1 md:grid-cols-3 gap-4 py-4 border-b last:border-b-0">

    <label class="font-medium text-gray-800 pt-2 md:col-span-1" for="{{ field.id_for_label }}">
        {% if label %}
            {{ label }}
        {% else %}
            {{ field.label }}
        {% endif %}
    </label>

    <div class="md:col-span-2 flex items-center gap-3">

        <input
            type="checkbox"
            id="{{ field.id_for_label }}"
            name="{{ field.html_name }}"
            {% if field.value %}checked{% endif %}
            class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2"
        />

        {% if field.help_text %}
            <p class="text-xs text-gray-500">{{ field.help_text }}</p>
        {% endif %}
    </div>

</div>

{% else %}

{# Default input styling #}
<div class="grid grid-cols-1 md:grid-cols-3 gap-4 py-4 border-b last:border-b-0">

    <label class="font-medium text-gray-800 pt-2 md:col-span-1" for="{{ field.id_for_label }}">
        {% if label %}
            {{ label }}
        {% else %}
            {{ field.label }}
        {% endif %}
    </label>

    <div class="md:col-span-2">
        {{ field }}

        <script>
            (function() {
                const el = document.getElementById("{{ field.id_for_label }}");
                if (el) {
                    el.classList.add(
                        "p-2", "w-full", "rounded-md", "border-gray-300",
                        "shadow-sm", "focus:border-blue-500",
                        "focus:ring-blue-500"
                    );
                }
            })();
        </script>
        
        {% if field.help_text %}
            <p class="text-xs text-gray-500 mt-1">{{ field.help_text }}</p>
        {% endif %}

        {% if field.errors %}
            <p class="text-red-600 text-sm mt-1">{{ field.errors|striptags }}</p>
        {% endif %}
    </div>
</div>

{% endif %}